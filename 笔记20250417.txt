ä¼ä¸šåŸå§‹çŸ¥è¯†æ•´ç†æœ‰ä»€ä¹ˆç‰¹æ®Šè¦æ±‚å—ï¼Ÿæ¯”å¦‚ç»Ÿä¸€çŸ¥è¯†æ–‡æ¡£æ ¼å¼å•¥çš„
Thinkingï¼šå¯¹äºAIæ¥è¯´ï¼Œä»€ä¹ˆæ ¼å¼æ˜¯æœ€å‹å¥½çš„ï¼Ÿ
Markdown

ä¼ä¸šä¼šæœ‰å¾ˆå¤šæ–‡æ¡£æ ¼å¼ï¼ŒPPT, word, excel, pdf, png

Thinkingï¼šçŸ¥è¯†æ˜¯å­˜å‚¨åœ¨å‘é‡åº“è¿˜æ˜¯å…¶ä»–åº“å‘¢
=> å‘é‡æ•°æ®åº“ => åŸæ–‡ï¼Œembeddingï¼ˆç›¸ä¼¼åº¦æ£€ç´¢ï¼Œæ‰¾åˆ°æœ€ä¼˜ä»·å€¼çš„chunksï¼‰

Thinkingï¼šä»åŸå§‹æ–‡æ¡£åˆ‡åˆ†æˆchunkæ˜¯æ€ä¹ˆåšçš„ï¼Ÿå¦‚æœæ˜¯äººå·¥åˆ†åˆ‡ï¼Œä¼šä¸ä¼šæ¯ç¯‡æ–‡ç« éƒ½çœ‹ï¼Œæ•ˆç‡å¤ªä½ã€‚å¦‚æœæ˜¯åŸºäºè§„åˆ™ï¼Œä¼šä¸ä¼šå¯¼è‡´ä¿¡æ¯æµå¤±ï¼Œæˆ–è€…ä¸€ä¸ªä¸»é¢˜åˆ‡åˆ†åˆ°2ä¸ªchunk
1ï¼‰æŒ‡å®šè§„åˆ™ï¼Œæ¯”å¦‚ chunk size =1000ï¼Œoverlap = 10%
å¥å­
2) è¯­ä¹‰ä¸Šçš„åˆ‡åˆ†

ç°æˆçš„RAGäº§å“ï¼š
1ï¼‰Cherry Studio
2) imacopilot
3) notebooklm
https://notebooklm.google.com/
4ï¼‰é’‰é’‰åŠ©ç†
5ï¼‰Coze

Embeddingé€‰æ‹©ï¼š
https://huggingface.co/spaces/mteb/leaderboard ï¼ˆOpen, é—­æºï¼‰

Thinkingï¼šåœ¨å“ªé‡Œæ‰¾åˆ°å¼€æºçš„embeddingæ¨¡å‹
https://modelscope.cn/

ç”¨æˆ·çš„Query ä¼šåŒ…æ‹¬ï¼š
1ï¼‰instruction æŒ‡ä»¤
2ï¼‰çŸ¥è¯†

å¸®æˆ‘æŸ¥æ‰¾ XXXX

Thinkingï¼šå¦‚ä½•å°†æ–‡æœ¬è½¬åŒ–æˆmarkdown
å¦‚æœæƒ³è¦å°†PPTè½¬åŒ–ä¸ºMarkdownï¼Œ
1ï¼‰å¯¹PPTé‡Œé¢çš„å†…å®¹è¿›è¡Œextract
2ï¼‰å¯¹æŠ½å–å‡ºæ¥çš„å†…å®¹ æ”¾åˆ°Markdownä¸­
å¦‚æœæ˜¯å›¾åƒ => ä½¿ç”¨ Qwen-VLè¿›è¡Œç†è§£

===
å¤šæ¨¡æ€çš„embedding

===
embedding
æ¨¡å‹æ€ä¹ˆéƒ¨ç½²åœ¨gpuä¸Šå‘¢

åœ¨å‘é‡æ•°æ®åº“ä¸­ï¼Œå¯ä»¥æœ‰ä¸¤ä¸ªé˜¶æ®µ
1ï¼‰å¬å›
2ï¼‰é‡æ’
å‘é‡æ•°æ®åº“ä¸­ä¿å­˜çš„chunkå¯èƒ½ä¼šæœ‰1000ä¸‡ä¸ª => å¬å›å¿«é€Ÿç­›é€‰å‡º 1000ä¸ª => é‡æ’åº Top10
1000ä¸‡ => Rank Top10
å¬å›ï¼šå°±æ˜¯å¿«é€Ÿé‡‡ç”¨å¤šç§ç­–ç•¥è¿›è¡Œç²—ç­›çš„è¿‡ç¨‹
ç­–ç•¥1ï¼šåŸºäºå…³é”®è¯åŒ¹é… 100
ç­–ç•¥2ï¼šåŸºäºè¯­ä¹‰å‘é‡ç›¸ä¼¼åº¦ 100

chatpdf-faissä»£ç ä¸­ï¼Œä½¿ç”¨äº†ä¸¤ä¸ªæ¨¡å‹
1ï¼‰æ¨ç†æ¨¡å‹ qwen-turbo
2ï¼‰Embeddingæ¨¡å‹ text-embedding-v1

chunkç­–ç•¥ï¼š
chunk_size =1000, overlap =200ï¼Œåˆ†å‰²æ˜¯æŒ‰ç…§æ ‡ç‚¹ç¬¦å·è¿›è¡Œåˆ†å‰²ï¼ˆå¥å·ï¼Œæ¢è¡Œï¼‰
docs = knowledgeBase.similarity_search(query)

THinkingï¼šä¸ºä»€ä¹ˆè¦åˆ†å—ï¼Ÿ
å¦‚æœä¸åˆ†å—ï¼Œæ•´ä¸ªæ–‡ä»¶ä½œä¸ºä¸€ä¸ªåŸºæœ¬å•å…ƒã€‚é‚£ä¹ˆæ–‡ä»¶é‡Œé¢çš„å†…å®¹ä¼šæ¯”è¾ƒå¤š => 3072ç»´çš„å‘é‡ä¸­

Thinkingï¼šä¼ä¸šåšè‡ªå·±çš„çŸ¥è¯†åº“ï¼Œä¼šç”¨è¿™äº›å¤§å‚åšçš„å¹³å°å—ï¼Ÿæ¯”å¦‚coze
1ï¼‰cozeæœ‰ä¼ä¸šç‰ˆæœ¬, 4980/æœˆ
2ï¼‰Difyå¼€æº
3ï¼‰LangChainå®ç°äº†qa_chainï¼Œå¯ä»¥ç”¨ faissåšå‘é‡æ•°æ®åº“

Thinkingï¼šçŸ¥è¯†åº“å›ç­”ä¸äº†çš„ï¼Œåœ¨è°ƒç”¨æ¨ç†æ¨¡å‹å˜›ï¼Ÿ
çŸ¥è¯†åº“çš„ä½œç”¨æ˜¯ä¸Šä¸‹æ–‡ï¼Œå¯èƒ½ä¸Šä¸‹æ–‡ä¸­ æ²¡æœ‰ç”¨æˆ·æåˆ°çš„é—®é¢˜ã€‚
è¿™æ—¶ï¼Œä½ å¯ä»¥åœ¨promptä¸­è¯´æ˜ï¼Œæ˜¯å¦è®©LLMè‡ªå·±æ¥è¿›è¡Œå›ç­”ï¼›

Thinkingï¼šå¦‚æœllmä¸­æ²¡æœ‰ç›¸å…³çŸ¥è¯†ï¼Œragæ˜¯ä¸æ˜¯å°±æ²¡æœ‰æ•ˆæœäº†
æ˜¯çš„ã€‚

Thinkingï¼šchunks æ˜¯ä»€ä¹ˆæ ·çš„æ ¼å¼å­˜å‚¨çš„
chunks å°±æ˜¯åŸæ–‡ï¼›chunk_embedding 3072ç»´
===
è¿™ä¸ªæ–‡æœ¬å—é¡µç ä¸å¯¹ï¼Œå¸®æˆ‘æŸ¥çœ‹ æ–‡æœ¬å—é¡µç çš„è®¡ç®—é€»è¾‘ï¼Œæ˜¯å¦æœ‰é—®é¢˜


æç¤ºè¯ä¼˜åŒ–ï¼š
1ï¼‰äººå·¥è§„åˆ™ => é’ˆå¯¹å¸¸è§çš„Queryï¼Œä½†æ˜¯èƒ½è®¾ç½®çš„è§„åˆ™æœ‰é™
2ï¼‰LLMè‡ªå·±æ¥æ€è€ƒ

é€šè¿‡think => ä¼˜åŒ–äº†ç”¨æˆ·çš„æç¤ºè¯ï¼Œè®©å›ç­”è´¨é‡æ›´é«˜ï¼›
åœ¨ä¼ä¸šå®æˆ˜ä¸­ï¼Œé‡åˆ°é—®é¢˜ï¼Œæ€è€ƒè§£å†³çš„æ–¹æ³•ï¼ˆç­–ç•¥ï¼‰

Dify, Coze => æ˜¯ä¸æ˜¯å¯ä»¥å›ç­”ç”¨æˆ·é—®é¢˜ï¼Œå›ç­”å¾ˆå¥½ï¼Ÿ


Thinkingï¼šRAGå’Œchunkå…³è”æ˜¯ä»€ä¹ˆ
RAG çŸ¥è¯†æ£€ç´¢ç³»ç»Ÿ
chunk åˆ†å—ï¼Œæ˜¯çŸ¥è¯†çš„æœ€å°å•ä½

Thinkingï¼šå‘é‡æ•°æ®åº“æ˜¯å­˜å‚¨åœ¨æœ¬åœ°æ–‡ä»¶å¤¹ä¸‹å—
knowledgeBase.save_local('./faiss-1')

Thinkingï¼šå¦‚æœæ–‡æ¡£é‡Œ æœ‰æ–‡å­—å’Œå›¾ç‰‡ æ€ä¹ˆä¿è¯å›¾ç‰‡è·Ÿç›¸å…³æ–‡å­—ä¸ä¼šæ‹†æˆ2ä¸ªchunkå‘¢
å¦‚æœPDFä¸­æœ‰å›¾ç‰‡ï¼Œéœ€è¦å…ˆåšé¢„å¤„ç†ï¼ˆå°†å›¾ç‰‡ è½¬åŒ–ä¸ºæ–‡æœ¬ï¼‰
=> è½¬åŒ–ä¸º å…¨éƒ¨çš„æ–‡æœ¬
å†åšchunkï¼ˆchunk_size=1000, overlap=100ï¼‰

æ€»ç»“ => æ¦‚è¦çº§çš„

LangChain æ›´çµæ´»ï¼Œä¸ªæ€§åŒ–
dify æ›´æ–¹ä¾¿
===
1ã€ä¸åŒç»´åº¦å‘é‡èƒ½è®¡ç®—ç›¸ä¼¼åº¦å—ï¼Ÿè¿˜æ˜¯ä¼šè¡¥å……ç»´åº¦
éœ€è¦å˜æˆç»Ÿä¸€ç»´åº¦

5ã€å‘é‡æ•°æ®åº“å’Œembeddingæ¨¡å‹æ˜¯ä»€ä¹ˆå…³ç³»
å‘é‡æ•°æ®åº“æ˜¯ä¸€ä¸ªè½¯ä»¶ï¼Œå­˜å‚¨äº†å¾ˆå¤š chunkçš„embeddingï¼Œç»™ä½ æä¾›äº† save, load, find_similarityçš„æ¥å£
embeddingæ˜¯ä¸€ç§å‘é‡æ ¼å¼ï¼ˆæ¯”å¦‚ 3072ç»´ï¼‰

8ã€LLMå¯ä»¥å…¼å®¹RAGå—ï¼Œragçš„ä¼˜åŠ¿æ€ä¹ˆé›†æˆåˆ°LLMä¸­
LLMï¼ˆæ¨ç†å¼•æ“ï¼‰ + RAGï¼ˆå¤–æŒ‚çŸ¥è¯†åº“ï¼‰

===
ğŸ™‹æœ‰åƒnotebookLMä¹‹ç±»çš„å·¥å…·ä½¿ç”¨ï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¼ä¸šè¦è‡ªå·±åšRAGï¼Ÿ
æ•°æ®å®‰å…¨æ€§ => RAGç§æœ‰åŒ–
å¦‚æœçŸ¥è¯†æ˜¯æ¥è‡ªäºç½‘ç»œ => ä½¿ç”¨ notebookLMæ˜¯æ›´æ–¹ä¾¿ (Gemini-embeddingï¼Œ Gemini-2.5, å¬å›å’Œé‡æ’çš„ç­–ç•¥ï¼Œä»¥åŠå¯¹æ¯ç¯‡æ–‡æ¡£åšäº†é¢„å¤„ç†ï¼šæ–‡æ¡£çš„æ¦‚è§ˆ + å…³é”®è¯ï¼‰


Thinkingï¼šå…¬å¸æ­çŸ¥è¯†åº“ï¼Œä¸»è¦æ˜¯PDFçš„ä¸€äº›æ ‡å‡†è§„èŒƒï¼Œå…¬å¸çš„ç§¯ç´¯çš„ä¸€äº›æŠ€æœ¯æ”¯æŒçš„é—®ç­”ï¼ˆexcelï¼‰ï¼Œå¼€å‘ç§¯ç´¯çš„ä¸€äº›çŸ¥è¯†docï¼Œæƒ³åšä¸ªçŸ¥è¯†åº“ï¼Œæ‚¨å»ºè®®ç”¨ä»€ä¹ˆï¼Ÿé—®ç­”è´¨é‡å¥½
å¦‚æœæƒ³è¦è´¨é‡å¥½ => å¼€å‘å·¥ä½œå°‘ä¸äº†
ä¹Ÿå¯ä»¥ä½¿ç”¨å¼€æºçš„Qwen-Agent  => RAGè´¨é‡è¿˜æ˜¯ä¸é”™çš„ *****

å½“æ—¶å®¢æˆ·ä½¿ç”¨ é’‰é’‰åŠ©ç†ï¼ˆç±»ä¼¼Cozeï¼‰ï¼Œæ‰“é€ äº† XXåŠ©æ‰‹ï¼›
æˆ‘ç”¨Qwen-Agent åšäº†RAGåŠ©æ‰‹ï¼Œå‘ç° Qwen-Agentçš„RAGè´¨é‡ > é’‰é’‰åŠ©ç†å›ç­”çš„è´¨é‡

Thinkingï¼šä¸ªäººæƒ³æ„å»ºçŸ¥è¯†åº“ï¼Œç”¨äºæ•™å­¦ï¼Œèµ„æ–™ä¸»è¦æ˜¯PPTï¼ŒWordï¼ŒExcelå’ŒPDFï¼Œå¦‚ä½•ä½æˆæœ¬æ„å»ºï¼Œå¹¶ä¸”å¯ä»¥ä¿æŠ¤çŸ¥è¯†äº§æƒï¼Ÿ
å…ˆè¯•è¯•Qwen-Agent ï¼ˆæ•ˆæœè¿˜ä¸é”™ï¼Œè€Œä¸”æ˜¯å¼€æºçš„ï¼‰

Thinkingï¼šç»“æ„åŒ–çš„æ•°æ®å¯ä»¥ç”¨Qwen-Agentå—ï¼Œå…å¾—åšä¼ ç»Ÿçš„SQLå¼€å‘
Text2SQLï¼Œå¯ä»¥åœ¨Qwen-Agentä¸­è®¾ç½® Tool
Qwen-Agent ä¸å…‰æ˜¯å¯ä»¥ç”¨äºRAGï¼Œè¿˜å¯ä»¥è®©AI Agentè°ƒç”¨å„ç§Toolã€‚é’ˆå¯¹ç»“æ„åŒ–çš„æ•°æ®ï¼Œä½ å¯ä»¥åšä¸€ä¸ª Text2SQLçš„å·¥å…·

Thinkingï¼šå¦‚æœQWEN-AGENTéå¸¸çš„æˆç†Ÿçš„è¯ï¼Œç®€å•æ˜“åšï¼Œé‚£æˆ‘ä»¬å­¦RAGå¦‚ä½•ä½“ç°å‡ºæˆ‘ä»¬è‡ªå·±çš„ä»·å€¼
ç°é˜¶æ®µ æ²¡æœ‰å¾ˆæˆç†Ÿçš„RAGç³»ç»Ÿ
Qwen-Agentåªæ˜¯ä¸€ç§Agentæ¡†æ¶ï¼Œï¼ˆé›†æˆäº†ä¸€éƒ¨åˆ† RAGçš„ç­–ç•¥ï¼Œå¬å›ã€é‡æ’ã€ä»¥åŠç”Ÿæˆçš„ç­–ç•¥ï¼‰
=> Qwen-Agent å›ç­”è´¨é‡è¿˜å¯ä»¥ ï¼ˆæ¯”é’‰é’‰åŠ©ç†ç•¥å¥½ï¼‰ï¼Œä½†æ˜¯ä¸å¦‚  notebookLM
è‡ªå·±ä½¿ç”¨Qwen-Agentçš„è¯ï¼Œä¹Ÿå¯ä»¥åŠ å¾ˆå¤šå…¶ä»–çš„ç­–ç•¥ï¼Œæ¯”å¦‚å¯¹æ•°æ®çš„é¢„å¤„ç†

Thinkingï¼šå¯ä»¥è¯¦ç»†è®²è§£ä¸‹ æ™ºèƒ½æ–‡æ¡£æŠ€æœ¯å›¾ï¼Œåœ¨å…¬å¸çŸ¥è¯†åº“é¡¹ç›®ä¸­çš„å…·ä½“å®ç°å—ï¼Ÿå¦‚ä¼ä¸šä¸­PDFã€PPTçš„å¤„ç†
LayoutLM, LayoutLLM
ç»™PDF => LayoutLLM => è¿›è¡Œæé—®å’Œç†è§£ => æ•´ç†å‡ºæ¥å¯¹PDFã€PPTçš„ç†è§£ï¼Œç”¨äºå®Œå–„å¯¹åº”çš„çŸ¥è¯† Markdown

Thinkingï¼šcherry studioå’ŒnotebookLMåˆ†åˆ«åœ¨ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨
ä¸éœ€è¦è‡ªå·±å¼€å‘çš„æƒ…å†µä¸‹ï¼Œç›´æ¥æƒ³è¦ç”¨ç°æˆçš„ RAGäº§å“
cherry studio åœ¨å›½å†…å°±å¯ä»¥ç”¨ï¼Œå¼€æº
notebookLMæ˜¯Googleçš„äº§å“ï¼Œä¸å¼€æºï¼Œä½†å…è´¹

Thinkingï¼šçŸ¥è¯†å›¾è°±å’ŒçŸ¥è¯†åº“æœ‰ä»€ä¹ˆåŒºåˆ«
çŸ¥è¯†å›¾è°± æ˜¯ç”¨Graphçš„æ–¹å¼ï¼Œå°†çŸ¥è¯†é“¾æ¥èµ·æ¥ã€‚ map = node, edge
æˆ‘ä»¬å°±å¯ä»¥åœ¨çŸ¥è¯†å›¾è°±ä¸Šï¼Œå¯¹çŸ¥è¯†è¿›è¡Œè®¡ç®—ï¼Œæ¯”å¦‚ å§šæ˜çš„å¥³å„¿çš„èº«é«˜æ˜¯å¤šå°‘ï¼Ÿ
chunk1: å§šæ˜çš„å¥³å„¿å« ABC
chunk2: ABCçš„èº«é«˜æ˜¯å¤šå°‘

Thinkingï¼šcherry studioå’Œqwen-agentå“ªä¸ªRAGç­–ç•¥å¥½ï¼Ÿ
cherry studioæœ¬èº«æ˜¯ä¸ªå¥—å£³äº§å“ï¼Œåªæ˜¯é“¾æ¥å„ç§å·¥å…·ï¼ˆLLM, MCP, RAGçŸ¥è¯†åº“ï¼‰
qwen-agentï¼šå¼€æºçš„æ¡†æ¶ï¼Œæä¾›äº†ä¸€äº›tool, æä¾›ä¸€äº›RAGç­–ç•¥

Thinkingï¼šcherry studioè°ƒçš„å“ªä¸ªLLMè¿›è¡Œå›ç­”ï¼Ÿ


>=3.10


è¯¾ç¨‹ä¸­ä¼šåˆ°çš„pythonå·¥å…·ç®±ï¼š
faiss, modelscope, langchain, langchain_community, PyPDF2
è¿™äº›ä½ åœ¨ä½¿ç”¨pythonçš„æ—¶å€™ï¼Œå¦‚æœé‡åˆ°ç±»ä¼¼ModuleNotFoundError: No module named 'XXX'çš„é”™è¯¯ï¼Œè¯´æ˜è¯¥æ¨¡å—å°šæœªå®‰è£…ï¼Œéœ€è¦ä½¿ç”¨pip installå‘½ä»¤è¿›è¡Œå®‰è£…

faisså®‰è£…æ–¹æ³•ï¼š
1ï¼‰å¦‚æœä½ æœ‰GPUç¯å¢ƒï¼Œå¯ä»¥å®‰è£… faiss-gpu
pip install faiss-gpu
2ï¼‰å¦‚æœä½ æ˜¯CPUç¯å¢ƒï¼Œå®‰è£…faiss-cpu
pip install faiss-cpu

